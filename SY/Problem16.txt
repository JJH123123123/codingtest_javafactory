//https://school.programmers.co.kr/learn/courses/30/lessons/150370
#include <bits/stdc++.h>
using namespace std;
std::unordered_map<char, int> t;
vector<int> solution(string today, vector<string> terms, vector<string> privacies) 
{
    for(const auto& iter : terms)
        t[iter[0]] = std::stoi(iter.substr(2));
    vector<int> answer;
    for(int i = 0; i < privacies.size(); i++)
    {
        int t_year = std::stoi(today.substr(0,4));
        int t_month = std::stoi(today.substr(5,2));
        int t_day = std::stoi(today.substr(8,2));
        int year = std::stoi(privacies[i].substr(0,4));
        int month = std::stoi(privacies[i].substr(5,2));
        int day = std::stoi(privacies[i].substr(8,2));
        for(int j = 0; j < t[privacies[i][11]]; j++)
        {
            day += j == 0 ? 27 : 28;
            if(day > 28)
            {
                day -= 28;
                month += 1;
                if(month > 12)
                {
                    month -= 12;
                    year += 1;
                }
            }
        }
        if(year*12*28 + month*28 + day < t_year*12*28 + t_month*28 + t_day)
            answer.push_back(i+1);
    }
    return answer;
}